{"ast":null,"code":"import _regeneratorRuntime from \"/Users/rafalcymbalista/Projects/GhOSt_app/client/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"/Users/rafalcymbalista/Projects/GhOSt_app/client/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _classCallCheck from \"/Users/rafalcymbalista/Projects/GhOSt_app/client/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/rafalcymbalista/Projects/GhOSt_app/client/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/rafalcymbalista/Projects/GhOSt_app/client/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/rafalcymbalista/Projects/GhOSt_app/client/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/rafalcymbalista/Projects/GhOSt_app/client/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/Users/rafalcymbalista/Projects/GhOSt_app/client/src/views/AdminPanel/components/UsersTable.js/UsersTable.jsx\";\nimport React, { Component } from 'react';\nimport { HTMLTable, Button } from '@blueprintjs/core';\nimport Client from '../../../../Modules/Client/Client';\nimport UsersTableRows from './UsersTableRows';\nimport UsersTableHeader from './UsersTableHeader';\n\nvar UsersTable =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(UsersTable, _Component);\n\n  function UsersTable(props) {\n    var _this;\n\n    _classCallCheck(this, UsersTable);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(UsersTable).call(this, props));\n    _this.state = {\n      users: [],\n      errorMsg: ''\n    };\n    return _this;\n  }\n\n  _createClass(UsersTable, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      this.getData();\n    }\n  }, {\n    key: \"getData\",\n    value: function () {\n      var _getData = _asyncToGenerator(\n      /*#__PURE__*/\n      _regeneratorRuntime.mark(function _callee() {\n        var result;\n        return _regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                _context.prev = 0;\n                _context.next = 3;\n                return Client.Services.UsersService.getUsers();\n\n              case 3:\n                result = _context.sent;\n                this.setState({\n                  users: result.data\n                });\n                console.log(this.state.users);\n                _context.next = 12;\n                break;\n\n              case 8:\n                _context.prev = 8;\n                _context.t0 = _context[\"catch\"](0);\n                this.setState({\n                  errorMsg: _context.t0.response.status\n                });\n                Client.Notifications.alert('Error while loading users list');\n\n              case 12:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, this, [[0, 8]]);\n      }));\n\n      function getData() {\n        return _getData.apply(this, arguments);\n      }\n\n      return getData;\n    }()\n  }, {\n    key: \"renderTableHeader\",\n    value: function renderTableHeader() {\n      return React.createElement(\"thead\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 36\n        },\n        __self: this\n      }, React.createElement(\"tr\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 37\n        },\n        __self: this\n      }, React.createElement(\"th\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 38\n        },\n        __self: this\n      }, \"User Name\"), React.createElement(\"th\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 39\n        },\n        __self: this\n      }, \"Role\"), React.createElement(\"th\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 40\n        },\n        __self: this\n      }, \"Role\"), React.createElement(\"th\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 41\n        },\n        __self: this\n      }, \"...\")));\n    }\n  }, {\n    key: \"renderTableBody\",\n    value: function renderTableBody() {\n      return React.createElement(\"tbody\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 47\n        },\n        __self: this\n      }, this.renderTableRows());\n    }\n  }, {\n    key: \"renderTableRows\",\n    value: function renderTableRows() {\n      return this.state.users.map(function (user) {\n        return React.createElement(\"tr\", {\n          key: user._id,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 52\n          },\n          __self: this\n        }, React.createElement(\"td\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 53\n          },\n          __self: this\n        }, user.username), React.createElement(\"td\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 54\n          },\n          __self: this\n        }, user.email), React.createElement(\"td\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 55\n          },\n          __self: this\n        }, user.role), React.createElement(\"td\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 56\n          },\n          __self: this\n        }, React.createElement(Button, {\n          minimal: true,\n          icon: \"more\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 57\n          },\n          __self: this\n        })));\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      return React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 66\n        },\n        __self: this\n      }, React.createElement(HTMLTable, {\n        condensed: true,\n        striped: true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 67\n        },\n        __self: this\n      }, this.renderTableHeader(), this.renderTableRows()));\n    }\n  }]);\n\n  return UsersTable;\n}(Component);\n\nexport { UsersTable as default };","map":{"version":3,"sources":["/Users/rafalcymbalista/Projects/GhOSt_app/client/src/views/AdminPanel/components/UsersTable.js/UsersTable.jsx"],"names":["React","Component","HTMLTable","Button","Client","UsersTableRows","UsersTableHeader","UsersTable","props","state","users","errorMsg","getData","Services","UsersService","getUsers","result","setState","data","console","log","response","status","Notifications","alert","renderTableRows","map","user","_id","username","email","role","renderTableHeader"],"mappings":";;;;;;;;AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,SAASC,SAAT,EAAoBC,MAApB,QAAkC,mBAAlC;AACA,OAAOC,MAAP,MAAmB,mCAAnB;AACA,OAAOC,cAAP,MAA2B,kBAA3B;AACA,OAAOC,gBAAP,MAA6B,oBAA7B;;IAEqBC,U;;;;;AAClB,sBAAYC,KAAZ,EAAmB;AAAA;;AAAA;;AAChB,oFAAMA,KAAN;AACA,UAAKC,KAAL,GAAa;AACVC,MAAAA,KAAK,EAAE,EADG;AAEVC,MAAAA,QAAQ,EAAE;AAFA,KAAb;AAFgB;AAMlB;;;;wCAEmB;AACjB,WAAKC,OAAL;AACF;;;;;;;;;;;;;;uBAKoBR,MAAM,CAACS,QAAP,CAAgBC,YAAhB,CAA6BC,QAA7B,E;;;AAAfC,gBAAAA,M;AACA,qBAAKC,QAAL,CAAc;AACXP,kBAAAA,KAAK,EAAEM,MAAM,CAACE;AADH,iBAAd;AAGAC,gBAAAA,OAAO,CAACC,GAAR,CAAY,KAAKX,KAAL,CAAWC,KAAvB;;;;;;;AAEA,qBAAKO,QAAL,CAAc;AAAEN,kBAAAA,QAAQ,EAAE,YAAIU,QAAJ,CAAaC;AAAzB,iBAAd;AACAlB,gBAAAA,MAAM,CAACmB,aAAP,CAAqBC,KAArB,CAA2B,gCAA3B;;;;;;;;;;;;;;;;;;wCAIc;AACjB,aACG;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACG;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACG;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qBADH,EAEG;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBAFH,EAGG;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBAHH,EAIG;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,eAJH,CADH,CADH;AAUF;;;sCACiB;AACf,aAAO;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAAQ,KAAKC,eAAL,EAAR,CAAP;AACF;;;sCACiB;AACf,aAAO,KAAKhB,KAAL,CAAWC,KAAX,CAAiBgB,GAAjB,CAAqB,UAAAC,IAAI,EAAI;AACjC,eACG;AAAI,UAAA,GAAG,EAAEA,IAAI,CAACC,GAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WACG;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WAAKD,IAAI,CAACE,QAAV,CADH,EAEG;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WAAKF,IAAI,CAACG,KAAV,CAFH,EAGG;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WAAKH,IAAI,CAACI,IAAV,CAHH,EAIG;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WACG,oBAAC,MAAD;AAAQ,UAAA,OAAO,MAAf;AAAgB,UAAA,IAAI,EAAC,MAArB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,UADH,CAJH,CADH;AAUF,OAXM,CAAP;AAYF;;;6BAEQ;AACN,aACG;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACG,oBAAC,SAAD;AAAW,QAAA,SAAS,MAApB;AAAqB,QAAA,OAAO,MAA5B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACI,KAAKC,iBAAL,EADJ,EAEI,KAAKP,eAAL,EAFJ,CADH,CADH;AAQF;;;;EAlEoCxB,S;;SAAnBM,U","sourcesContent":["import React, { Component } from 'react';\nimport { HTMLTable, Button } from '@blueprintjs/core';\nimport Client from '../../../../Modules/Client/Client';\nimport UsersTableRows from './UsersTableRows';\nimport UsersTableHeader from './UsersTableHeader';\n\nexport default class UsersTable extends Component {\n   constructor(props) {\n      super(props);\n      this.state = {\n         users: [],\n         errorMsg: ''\n      };\n   }\n\n   componentDidMount() {\n      this.getData();\n   }\n\n   async getData() {\n      var result;\n      try {\n         result = await Client.Services.UsersService.getUsers();\n         this.setState({\n            users: result.data\n         });\n         console.log(this.state.users);\n      } catch (err) {\n         this.setState({ errorMsg: err.response.status });\n         Client.Notifications.alert('Error while loading users list');\n      }\n   }\n\n   renderTableHeader() {\n      return (\n         <thead>\n            <tr>\n               <th>User Name</th>\n               <th>Role</th>\n               <th>Role</th>\n               <th>...</th>\n            </tr>\n         </thead>\n      );\n   }\n   renderTableBody() {\n      return <tbody>{this.renderTableRows()}</tbody>;\n   }\n   renderTableRows() {\n      return this.state.users.map(user => {\n         return (\n            <tr key={user._id}>\n               <td>{user.username}</td>\n               <td>{user.email}</td>\n               <td>{user.role}</td>\n               <td>\n                  <Button minimal icon='more'></Button>\n               </td>\n            </tr>\n         );\n      });\n   }\n\n   render() {\n      return (\n         <div>\n            <HTMLTable condensed striped>\n               {this.renderTableHeader()}\n               {this.renderTableRows()}\n            </HTMLTable>\n         </div>\n      );\n   }\n}\n"]},"metadata":{},"sourceType":"module"}
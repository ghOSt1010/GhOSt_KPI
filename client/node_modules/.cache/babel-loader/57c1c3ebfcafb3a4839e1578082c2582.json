{"ast":null,"code":"import _classCallCheck from \"/Users/rafalcymbalista/Projects/GhOSt_app/client/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/rafalcymbalista/Projects/GhOSt_app/client/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/rafalcymbalista/Projects/GhOSt_app/client/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/rafalcymbalista/Projects/GhOSt_app/client/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/rafalcymbalista/Projects/GhOSt_app/client/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _assertThisInitialized from \"/Users/rafalcymbalista/Projects/GhOSt_app/client/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";\nvar _jsxFileName = \"/Users/rafalcymbalista/Projects/GhOSt_app/client/src/components/Table/EmployeeTable/EmployeeTable.jsx\";\nimport React, { Component } from 'react';\nimport { Table, Button, ButtonGroup, Modal, Card, CardHeader, CardBody } from 'reactstrap';\nimport UpdateEmployeeForm from '../../Card/EmployeeCard/UpdateEmployeeForm/UpdateEmployeeForm';\nimport axios from 'axios';\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport '@fortawesome/fontawesome-free';\n\nvar EmployeeTable =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(EmployeeTable, _Component);\n\n  function EmployeeTable(props) {\n    var _this;\n\n    _classCallCheck(this, EmployeeTable);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(EmployeeTable).call(this, props));\n    _this.getEmployees = _this.getEmployees.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.renderTableHeaders = _this.renderTableHeaders.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.renderTableData = _this.renderTableData.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.handleClick = _this.handleClick.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.closeModal = _this.closeModal.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.state = {\n      modal: false,\n      theme: _this.props.theme,\n      id: '',\n      sap: '',\n      name: '',\n      email: '',\n      role: '',\n      supportType: '',\n      project: '',\n      mainlanguage: '',\n      rm: '',\n      employees: []\n    };\n    return _this;\n  }\n\n  _createClass(EmployeeTable, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      this.getEmployees();\n    }\n  }, {\n    key: \"getEmployees\",\n    value: function getEmployees() {\n      var _this2 = this;\n\n      var URL = 'http://localhost:3001/api/employees';\n      axios.get(URL).then(function (res) {\n        _this2.setState({\n          employees: res.data\n        });\n      }).catch(function (err) {\n        alert('Error loading Employees table');\n        console.log(JSON.stringify(err));\n      });\n    }\n  }, {\n    key: \"setTheme\",\n    value: function setTheme() {\n      var theme = this.state.theme;\n\n      if (theme === 'dark') {\n        return 'table-dark';\n      }\n\n      if (theme === 'light') {\n        return '';\n      }\n\n      console.log(theme);\n    }\n  }, {\n    key: \"addActionButton\",\n    value: function addActionButton(employee) {\n      var _this3 = this;\n\n      return React.createElement(ButtonGroup, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 75\n        },\n        __self: this\n      }, React.createElement(Button, {\n        size: \"sm\",\n        color: \"danger\",\n        disabled: employee.role.role === 'General Manager',\n        onClick: function onClick(e) {\n          return _this3.handleClick(e, 'remove', employee);\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 76\n        },\n        __self: this\n      }, React.createElement(\"span\", {\n        className: \"fas fa-trash-alt\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 82\n        },\n        __self: this\n      })), React.createElement(Button, {\n        size: \"sm\",\n        onClick: function onClick(e) {\n          return _this3.handleClick(e, 'edit', employee);\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 84\n        },\n        __self: this\n      }, React.createElement(\"span\", {\n        className: \"fas fa-edit\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 88\n        },\n        __self: this\n      })));\n    }\n  }, {\n    key: \"handleClick\",\n    value: function handleClick(e, action, employee) {\n      e.preventDefault();\n      if (action === 'edit') this.editEmployee(employee);\n      if (action === 'remove') this.removeEmployee(employee);\n    }\n  }, {\n    key: \"editEmployee\",\n    value: function editEmployee(employee) {\n      this.setState(function (prevState) {\n        return {\n          modal: !prevState.modal\n        };\n      });\n      this.setState({\n        sap: employee.sap,\n        name: employee.name,\n        email: employee.email,\n        role: employee.role.role,\n        supportType: employee.supportType,\n        project: employee.project.name,\n        mainlanguage: employee.mainlanguage.language,\n        rm: employee.rm.name\n      });\n    }\n  }, {\n    key: \"closeModal\",\n    value: function closeModal() {\n      this.setState(function (prevState) {\n        return {\n          modal: !prevState.modal\n        };\n      });\n    }\n  }, {\n    key: \"removeEmployee\",\n    value: function removeEmployee(employee) {\n      var _this4 = this;\n\n      var URL = 'http://localhost:3001/api/employees/' + employee._id;\n      axios.delete(URL).then(function (res) {\n        alert('employee ' + employee.name + ' removed!');\n\n        _this4.getEmployees();\n      }).catch(function (err) {\n        alert('Something went wrong :(');\n      });\n    }\n  }, {\n    key: \"renderTableHeaders\",\n    value: function renderTableHeaders() {\n      return React.createElement(\"tr\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 138\n        },\n        __self: this\n      }, React.createElement(\"th\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 139\n        },\n        __self: this\n      }, \"SAP\"), React.createElement(\"th\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 140\n        },\n        __self: this\n      }, \"Name\"), React.createElement(\"th\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 141\n        },\n        __self: this\n      }, \"Role\"), React.createElement(\"th\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 142\n        },\n        __self: this\n      }, \"Suport Type\"), React.createElement(\"th\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 143\n        },\n        __self: this\n      }, \"Project\"), React.createElement(\"th\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 144\n        },\n        __self: this\n      }, \"Language\"), React.createElement(\"th\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 145\n        },\n        __self: this\n      }, \"RM\"), React.createElement(\"th\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 146\n        },\n        __self: this\n      }, \"email\"));\n    }\n  }, {\n    key: \"renderTableData\",\n    value: function renderTableData() {\n      var _this5 = this;\n\n      return this.state.employees.map(function (employee, index) {\n        return React.createElement(\"tr\", {\n          key: employee._id,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 154\n          },\n          __self: this\n        }, React.createElement(\"td\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 155\n          },\n          __self: this\n        }, employee.sap), React.createElement(\"td\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 156\n          },\n          __self: this\n        }, employee.name), React.createElement(\"td\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 157\n          },\n          __self: this\n        }, employee.role.role), React.createElement(\"td\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 158\n          },\n          __self: this\n        }, employee.supportType), React.createElement(\"td\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 159\n          },\n          __self: this\n        }, employee.project.name), React.createElement(\"td\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 160\n          },\n          __self: this\n        }, employee.mainlanguage.language), React.createElement(\"td\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 161\n          },\n          __self: this\n        }, employee.rm.name), React.createElement(\"td\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 162\n          },\n          __self: this\n        }, employee.email), React.createElement(\"td\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 163\n          },\n          __self: this\n        }, _this5.addActionButton(employee)));\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this$state = this.state,\n          theme = _this$state.theme,\n          modal = _this$state.modal,\n          sap = _this$state.sap,\n          name = _this$state.name,\n          email = _this$state.email,\n          role = _this$state.role,\n          supportType = _this$state.supportType,\n          project = _this$state.project,\n          mainlanguage = _this$state.mainlanguage,\n          rm = _this$state.rm;\n      return React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 183\n        },\n        __self: this\n      }, React.createElement(\"p\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 184\n        },\n        __self: this\n      }, \"All Available Employees\", React.createElement(Button, {\n        color: \"primary\",\n        size: \"sm\",\n        ref: \"getEmployeesData\",\n        id: \"getEmployeesData\",\n        className: \"float-right\",\n        onClick: this.getEmployees,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 186\n        },\n        __self: this\n      }, React.createElement(\"span\", {\n        className: \"fas fa-sync-alt\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 194\n        },\n        __self: this\n      }))), React.createElement(\"hr\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 197\n        },\n        __self: this\n      }), React.createElement(Table, {\n        responsive: true,\n        borderless: true,\n        striped: true,\n        hover: true,\n        size: \"sm\",\n        className: this.setTheme(),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 198\n        },\n        __self: this\n      }, React.createElement(\"thead\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 206\n        },\n        __self: this\n      }, this.renderTableHeaders()), React.createElement(\"tbody\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 207\n        },\n        __self: this\n      }, this.renderTableData())), React.createElement(Modal, {\n        isOpen: modal,\n        toggle: true,\n        className: \"modal-full modal-my\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 209\n        },\n        __self: this\n      }, React.createElement(Card, {\n        className: this.setTheme(this.props.theme),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 210\n        },\n        __self: this\n      }, React.createElement(CardHeader, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 211\n        },\n        __self: this\n      }, React.createElement(\"span\", {\n        class: \"fas fa-chart-line header-icon\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 212\n        },\n        __self: this\n      }), 'Edit Employee: ' + name, React.createElement(\"span\", {\n        className: \"far fa-window-restore float-right header-icon text-secondary\",\n        onClick: this.closeModal,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 214\n        },\n        __self: this\n      })), React.createElement(CardBody, {\n        className: \"card-body\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 220\n        },\n        __self: this\n      }, React.createElement(UpdateEmployeeForm, {\n        theme: theme,\n        sap: sap,\n        name: name,\n        email: email,\n        role: role,\n        supportType: supportType,\n        project: project,\n        mainlanguage: mainlanguage,\n        rm: rm,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 221\n        },\n        __self: this\n      })))));\n    }\n  }]);\n\n  return EmployeeTable;\n}(Component);\n/*\r\n\r\n*/\n\n\nexport { EmployeeTable as default };","map":{"version":3,"sources":["/Users/rafalcymbalista/Projects/GhOSt_app/client/src/components/Table/EmployeeTable/EmployeeTable.jsx"],"names":["React","Component","Table","Button","ButtonGroup","Modal","Card","CardHeader","CardBody","UpdateEmployeeForm","axios","EmployeeTable","props","getEmployees","bind","renderTableHeaders","renderTableData","handleClick","closeModal","state","modal","theme","id","sap","name","email","role","supportType","project","mainlanguage","rm","employees","URL","get","then","res","setState","data","catch","err","alert","console","log","JSON","stringify","employee","e","action","preventDefault","editEmployee","removeEmployee","prevState","language","_id","delete","map","index","addActionButton","setTheme"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\r\nimport {\r\n   Table,\r\n   Button,\r\n   ButtonGroup,\r\n   Modal,\r\n   Card,\r\n   CardHeader,\r\n   CardBody\r\n} from 'reactstrap';\r\nimport UpdateEmployeeForm from '../../Card/EmployeeCard/UpdateEmployeeForm/UpdateEmployeeForm';\r\n\r\nimport axios from 'axios';\r\n\r\nimport 'bootstrap/dist/css/bootstrap.min.css';\r\nimport '@fortawesome/fontawesome-free';\r\n\r\nexport default class EmployeeTable extends Component {\r\n   constructor(props) {\r\n      super(props);\r\n      this.getEmployees = this.getEmployees.bind(this);\r\n      this.renderTableHeaders = this.renderTableHeaders.bind(this);\r\n      this.renderTableData = this.renderTableData.bind(this);\r\n      this.handleClick = this.handleClick.bind(this);\r\n      this.closeModal = this.closeModal.bind(this);\r\n      this.state = {\r\n         modal: false,\r\n         theme: this.props.theme,\r\n         id: '',\r\n         sap: '',\r\n         name: '',\r\n         email: '',\r\n         role: '',\r\n         supportType: '',\r\n         project: '',\r\n         mainlanguage: '',\r\n         rm: '',\r\n         employees: []\r\n      };\r\n   }\r\n\r\n   componentDidMount() {\r\n      this.getEmployees();\r\n   }\r\n\r\n   getEmployees() {\r\n      const URL = 'http://localhost:3001/api/employees';\r\n\r\n      axios\r\n         .get(URL)\r\n         .then(res => {\r\n            this.setState({\r\n               employees: res.data\r\n            });\r\n         })\r\n         .catch(err => {\r\n            alert('Error loading Employees table');\r\n            console.log(JSON.stringify(err));\r\n         });\r\n   }\r\n\r\n   setTheme() {\r\n      const { theme } = this.state;\r\n      if (theme === 'dark') {\r\n         return 'table-dark';\r\n      }\r\n      if (theme === 'light') {\r\n         return '';\r\n      }\r\n      console.log(theme);\r\n   }\r\n\r\n   addActionButton(employee) {\r\n      return (\r\n         <ButtonGroup>\r\n            <Button\r\n               size='sm'\r\n               color='danger'\r\n               disabled={employee.role.role === 'General Manager'}\r\n               onClick={e => this.handleClick(e, 'remove', employee)}\r\n            >\r\n               <span className='fas fa-trash-alt' />\r\n            </Button>\r\n            <Button\r\n               size='sm'\r\n               onClick={e => this.handleClick(e, 'edit', employee)}\r\n            >\r\n               <span className='fas fa-edit' />\r\n            </Button>\r\n         </ButtonGroup>\r\n      );\r\n   }\r\n\r\n   handleClick(e, action, employee) {\r\n      e.preventDefault();\r\n      if (action === 'edit') this.editEmployee(employee);\r\n      if (action === 'remove') this.removeEmployee(employee);\r\n   }\r\n\r\n   editEmployee(employee) {\r\n      this.setState(prevState => ({\r\n         modal: !prevState.modal\r\n      }));\r\n      this.setState({\r\n         sap: employee.sap,\r\n         name: employee.name,\r\n         email: employee.email,\r\n         role: employee.role.role,\r\n         supportType: employee.supportType,\r\n         project: employee.project.name,\r\n         mainlanguage: employee.mainlanguage.language,\r\n         rm: employee.rm.name\r\n      });\r\n   }\r\n\r\n   closeModal() {\r\n      this.setState(prevState => ({\r\n         modal: !prevState.modal\r\n      }));\r\n   }\r\n\r\n   removeEmployee(employee) {\r\n      const URL = 'http://localhost:3001/api/employees/' + employee._id;\r\n\r\n      axios\r\n         .delete(URL)\r\n         .then(res => {\r\n            alert('employee ' + employee.name + ' removed!');\r\n            this.getEmployees();\r\n         })\r\n         .catch(err => {\r\n            alert('Something went wrong :(');\r\n         });\r\n   }\r\n\r\n   renderTableHeaders() {\r\n      return (\r\n         <tr>\r\n            <th>SAP</th>\r\n            <th>Name</th>\r\n            <th>Role</th>\r\n            <th>Suport Type</th>\r\n            <th>Project</th>\r\n            <th>Language</th>\r\n            <th>RM</th>\r\n            <th>email</th>\r\n         </tr>\r\n      );\r\n   }\r\n\r\n   renderTableData() {\r\n      return this.state.employees.map((employee, index) => {\r\n         return (\r\n            <tr key={employee._id}>\r\n               <td>{employee.sap}</td>\r\n               <td>{employee.name}</td>\r\n               <td>{employee.role.role}</td>\r\n               <td>{employee.supportType}</td>\r\n               <td>{employee.project.name}</td>\r\n               <td>{employee.mainlanguage.language}</td>\r\n               <td>{employee.rm.name}</td>\r\n               <td>{employee.email}</td>\r\n               <td>{this.addActionButton(employee)}</td>\r\n            </tr>\r\n         );\r\n      });\r\n   }\r\n\r\n   render() {\r\n      const {\r\n         theme,\r\n         modal,\r\n         sap,\r\n         name,\r\n         email,\r\n         role,\r\n         supportType,\r\n         project,\r\n         mainlanguage,\r\n         rm\r\n      } = this.state;\r\n      return (\r\n         <div>\r\n            <p>\r\n               All Available Employees\r\n               <Button\r\n                  color='primary'\r\n                  size='sm'\r\n                  ref='getEmployeesData'\r\n                  id='getEmployeesData'\r\n                  className='float-right'\r\n                  onClick={this.getEmployees}\r\n               >\r\n                  <span className='fas fa-sync-alt' />\r\n               </Button>\r\n            </p>\r\n            <hr />\r\n            <Table\r\n               responsive\r\n               borderless\r\n               striped\r\n               hover\r\n               size='sm'\r\n               className={this.setTheme()}\r\n            >\r\n               <thead>{this.renderTableHeaders()}</thead>\r\n               <tbody>{this.renderTableData()}</tbody>\r\n            </Table>\r\n            <Modal isOpen={modal} toggle className='modal-full modal-my'>\r\n               <Card className={this.setTheme(this.props.theme)}>\r\n                  <CardHeader>\r\n                     <span class='fas fa-chart-line header-icon' />\r\n                     {'Edit Employee: ' + name}\r\n                     <span\r\n                        className='far fa-window-restore float-right header-icon text-secondary'\r\n                        onClick={this.closeModal}\r\n                     />\r\n                  </CardHeader>\r\n\r\n                  <CardBody className='card-body'>\r\n                     <UpdateEmployeeForm\r\n                        theme={theme}\r\n                        sap={sap}\r\n                        name={name}\r\n                        email={email}\r\n                        role={role}\r\n                        supportType={supportType}\r\n                        project={project}\r\n                        mainlanguage={mainlanguage}\r\n                        rm={rm}\r\n                     />\r\n                  </CardBody>\r\n               </Card>\r\n            </Modal>\r\n         </div>\r\n      );\r\n   }\r\n}\r\n\r\n/*\r\n\r\n*/\r\n"]},"metadata":{},"sourceType":"module"}
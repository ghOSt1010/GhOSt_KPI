{"ast":null,"code":"import _regeneratorRuntime from \"/Users/rafalcymbalista/Projects/GhOSt_app/client/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"/Users/rafalcymbalista/Projects/GhOSt_app/client/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _classCallCheck from \"/Users/rafalcymbalista/Projects/GhOSt_app/client/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/rafalcymbalista/Projects/GhOSt_app/client/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport axios from 'axios'; //import Services from './Services/Services'\n\nimport Auth from './Auth/Auth';\nimport User from './User/User';\nimport API from './API/API';\nimport Request from './Requests/Request';\n\nvar Client =\n/*#__PURE__*/\nfunction () {\n  function Client() {\n    _classCallCheck(this, Client);\n  }\n\n  _createClass(Client, null, [{\n    key: \"testingCurrentUserAuth\",\n\n    /**\r\n     * @static\r\n     * @module Auth\r\n     * @class Auth\r\n     * \r\n     */\n\n    /**\r\n     * @static\r\n     * @module User\r\n     * @class User\r\n     *\r\n     */\n    value: function () {\n      var _testingCurrentUserAuth = _asyncToGenerator(\n      /*#__PURE__*/\n      _regeneratorRuntime.mark(function _callee() {\n        var data;\n        return _regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                _context.next = 2;\n                return Request.get(API.ROUTES.USERS.GET_CURRENT_USER);\n\n              case 2:\n                data = _context.sent;\n                console.log(User.getUserJWTToken());\n                return _context.abrupt(\"return\", JSON.stringify(data.data));\n\n              case 5:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, this);\n      }));\n\n      function testingCurrentUserAuth() {\n        return _testingCurrentUserAuth.apply(this, arguments);\n      }\n\n      return testingCurrentUserAuth;\n    }()\n    /**\r\n     * \r\n     * @param {String} username \r\n     * @param {String} password \r\n     * @return {}\r\n     */\n\n  }, {\n    key: \"login\",\n    value: function () {\n      var _login = _asyncToGenerator(\n      /*#__PURE__*/\n      _regeneratorRuntime.mark(function _callee2(username, password) {\n        var _this = this;\n\n        var data, url;\n        return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                data = {\n                  user: {\n                    email: username,\n                    password: password\n                  }\n                };\n                url = API.ROUTES.AUTH.LOGIN;\n                _context2.next = 4;\n                return axios.post(url, data).then(function (result) {\n                  _this.Auth.authenticateUser(result.data.user);\n\n                  return true;\n                }).catch(function (error) {\n                  console.log(error);\n                  return false;\n                });\n\n              case 4:\n                return _context2.abrupt(\"return\", _context2.sent);\n\n              case 5:\n              case \"end\":\n                return _context2.stop();\n            }\n          }\n        }, _callee2, this);\n      }));\n\n      function login(_x, _x2) {\n        return _login.apply(this, arguments);\n      }\n\n      return login;\n    }()\n    /**\r\n     * @return {boolean} - once completed\r\n     */\n\n  }, {\n    key: \"logout\",\n    value: function () {\n      var _logout = _asyncToGenerator(\n      /*#__PURE__*/\n      _regeneratorRuntime.mark(function _callee3() {\n        return _regeneratorRuntime.wrap(function _callee3$(_context3) {\n          while (1) {\n            switch (_context3.prev = _context3.next) {\n              case 0:\n                _context3.next = 2;\n                return this.Auth.deauthenticateUser();\n\n              case 2:\n                return _context3.abrupt(\"return\", _context3.sent);\n\n              case 3:\n              case \"end\":\n                return _context3.stop();\n            }\n          }\n        }, _callee3, this);\n      }));\n\n      function logout() {\n        return _logout.apply(this, arguments);\n      }\n\n      return logout;\n    }()\n  }]);\n\n  return Client;\n}();\n\nClient.Auth = Auth;\nClient.User = User;\nexport { Client as default };","map":{"version":3,"sources":["/Users/rafalcymbalista/Projects/GhOSt_app/client/src/Modules/Client/Client.js"],"names":["axios","Auth","User","API","Request","Client","get","ROUTES","USERS","GET_CURRENT_USER","data","console","log","getUserJWTToken","JSON","stringify","username","password","user","email","url","AUTH","LOGIN","post","then","result","authenticateUser","catch","error","deauthenticateUser"],"mappings":";;;;AAAA,OAAOA,KAAP,MAAkB,OAAlB,C,CACA;;AACA,OAAOC,IAAP,MAAiB,aAAjB;AACA,OAAOC,IAAP,MAAiB,aAAjB;AACA,OAAOC,GAAP,MAAgB,WAAhB;AACA,OAAOC,OAAP,MAAoB,oBAApB;;IAEqBC,M;;;;;;;;;;AAElB;;;;;;;AAQA;;;;;;;;;;;;;;;;uBASoBD,OAAO,CAACE,GAAR,CAAYH,GAAG,CAACI,MAAJ,CAAWC,KAAX,CAAiBC,gBAA7B,C;;;AAAbC,gBAAAA,I;AACJC,gBAAAA,OAAO,CAACC,GAAR,CAAYV,IAAI,CAACW,eAAL,EAAZ;iDACOC,IAAI,CAACC,SAAL,CAAeL,IAAI,CAACA,IAApB,C;;;;;;;;;;;;;;;;AAGV;;;;;;;;;;;;iDAMmBM,Q,EAAUC,Q;;;;;;;;AAEpBP,gBAAAA,I,GAAO;AACVQ,kBAAAA,IAAI,EAAE;AACHC,oBAAAA,KAAK,EAAEH,QADJ;AAEHC,oBAAAA,QAAQ,EAAEA;AAFP;AADI,iB;AAOPG,gBAAAA,G,GAAMjB,GAAG,CAACI,MAAJ,CAAWc,IAAX,CAAgBC,K;;uBAEftB,KAAK,CACduB,IADS,CACJH,GADI,EACCV,IADD,EAETc,IAFS,CAEJ,UAAAC,MAAM,EAAI;AACb,kBAAA,KAAI,CAACxB,IAAL,CAAUyB,gBAAV,CAA2BD,MAAM,CAACf,IAAP,CAAYQ,IAAvC;;AACA,yBAAO,IAAP;AACF,iBALS,EAMTS,KANS,CAMH,UAAAC,KAAK,EAAI;AACbjB,kBAAAA,OAAO,CAACC,GAAR,CAAYgB,KAAZ;AACA,yBAAO,KAAP;AACF,iBATS,C;;;;;;;;;;;;;;;;;;;AAYhB;;;;;;;;;;;;;;;uBAIgB,KAAK3B,IAAL,CAAU4B,kBAAV,E;;;;;;;;;;;;;;;;;;;;;;;;AAzDExB,M,CAQXJ,I,GAAOA,I;AARII,M,CAgBXH,I,GAAOA,I;SAhBIG,M","sourcesContent":["import axios from 'axios'\r\n//import Services from './Services/Services'\r\nimport Auth from './Auth/Auth'\r\nimport User from './User/User'\r\nimport API from './API/API'\r\nimport Request from './Requests/Request'\r\n\r\nexport default class Client {\r\n\r\n   /**\r\n    * @static\r\n    * @module Auth\r\n    * @class Auth\r\n    * \r\n    */\r\n   static Auth = Auth\r\n\r\n   /**\r\n    * @static\r\n    * @module User\r\n    * @class User\r\n    *\r\n    */\r\n   static User = User\r\n\r\n   static async testingCurrentUserAuth() {\r\n      var data = await Request.get(API.ROUTES.USERS.GET_CURRENT_USER)\r\n      console.log(User.getUserJWTToken())\r\n      return JSON.stringify(data.data)\r\n   }\r\n\r\n   /**\r\n    * \r\n    * @param {String} username \r\n    * @param {String} password \r\n    * @return {}\r\n    */\r\n   static async login(username, password) {\r\n\r\n      const data = {\r\n         user: {\r\n            email: username,\r\n            password: password\r\n         }\r\n      };\r\n\r\n      const url = API.ROUTES.AUTH.LOGIN\r\n\r\n      return await axios\r\n         .post(url, data)\r\n         .then(result => {\r\n            this.Auth.authenticateUser(result.data.user)\r\n            return true\r\n         })\r\n         .catch(error => {\r\n            console.log(error);\r\n            return false\r\n         });\r\n   }\r\n\r\n   /**\r\n    * @return {boolean} - once completed\r\n    */\r\n   static async logout() {\r\n      return await this.Auth.deauthenticateUser()\r\n   }\r\n}\r\n\r\n"]},"metadata":{},"sourceType":"module"}
{"ast":null,"code":"import _defineProperty from \"/Users/rafalcymbalista/Projects/GhOSt_app/client/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nimport _objectSpread from \"/Users/rafalcymbalista/Projects/GhOSt_app/client/node_modules/@babel/runtime/helpers/esm/objectSpread\";\nimport _regeneratorRuntime from \"/Users/rafalcymbalista/Projects/GhOSt_app/client/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"/Users/rafalcymbalista/Projects/GhOSt_app/client/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _classCallCheck from \"/Users/rafalcymbalista/Projects/GhOSt_app/client/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/rafalcymbalista/Projects/GhOSt_app/client/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/rafalcymbalista/Projects/GhOSt_app/client/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/rafalcymbalista/Projects/GhOSt_app/client/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/rafalcymbalista/Projects/GhOSt_app/client/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _assertThisInitialized from \"/Users/rafalcymbalista/Projects/GhOSt_app/client/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";\nvar _jsxFileName = \"/Users/rafalcymbalista/Projects/GhOSt_app/client/src/components/Card/ReportingCard/ReportingCard.jsx\";\nimport React, { Component } from 'react';\nimport { Button, ButtonGroup, TabContent, TabPane, Modal, Card, CardBody, CardHeader } from 'reactstrap';\nimport axios from 'axios';\nimport StdCard from '../StdCard';\nimport SLAsReportingTable from '../../Table/SLAsTable/SLAsReportingTable';\nimport EmployeeAvailabilityReportingTable from '../../Table/EmployeeTable/EmployeeAvailabilityReportingTable';\nimport EmployeeProductivityReportingTable from '../../Table/EmployeeTable/EmployeeProductivityReportingTable';\n\nvar ReportingCard =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(ReportingCard, _Component);\n\n  function ReportingCard(props) {\n    var _this;\n\n    _classCallCheck(this, ReportingCard);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(ReportingCard).call(this, props));\n\n    _this.handleSLASubmit =\n    /*#__PURE__*/\n    function () {\n      var _ref = _asyncToGenerator(\n      /*#__PURE__*/\n      _regeneratorRuntime.mark(function _callee(e) {\n        var readySLAReport, data, URL;\n        return _regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                e.preventDefault();\n                readySLAReport = _this.state.slaArr.map(function (sla, index) {\n                  return {\n                    reportedAt: sla.reportedAt,\n                    project: sla.project._id,\n                    sla_id: sla._id,\n                    sla: sla.SLA,\n                    logic: sla.logic,\n                    slaType: sla.type.type,\n                    target: sla.target,\n                    result: sla.result,\n                    status: sla.status\n                  };\n                });\n                data = {\n                  SLAReport: readySLAReport\n                };\n                URL = 'http://localhost:3001/api/reports/report/sla';\n                _context.t0 = _this;\n                _context.next = 7;\n                return _this.isCompleted();\n\n              case 7:\n                _context.t1 = _context.sent;\n                _context.t2 = {\n                  isCompleted: _context.t1\n                };\n\n                _context.t0.setState.call(_context.t0, _context.t2);\n\n                if (_this.state.isCompleted) {\n                  axios.post(URL, data).then(function (doc) {\n                    alert('SLA Report saved successfully');\n\n                    _this.setState({\n                      enableInputs: false\n                    });\n                  });\n                } else {\n                  alert('SLA Report not completed yet');\n                }\n\n              case 11:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, this);\n      }));\n\n      return function (_x) {\n        return _ref.apply(this, arguments);\n      };\n    }();\n\n    _this.handleEmployeeReportSubmit =\n    /*#__PURE__*/\n    function () {\n      var _ref2 = _asyncToGenerator(\n      /*#__PURE__*/\n      _regeneratorRuntime.mark(function _callee2(e) {\n        return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                e.preventDefault();\n                console.log(_this.state.empArr);\n                /*\r\n                var readyempReport = this.state.empArr.map((emp, index) => {\r\n                   return {\r\n                      reportedAt: emp.reportedAt,\r\n                      project: emp.project._id,\r\n                      emp_id: emp._id,\r\n                      emp: emp.emp,\r\n                      logic: emp.logic,\r\n                      empType: emp.type.type,\r\n                      target: emp.target,\r\n                      result: emp.result,\r\n                      status: emp.status\r\n                   };\r\n                });\r\n                  var data = {\r\n                   empReport: readyempReport\r\n                };\r\n                  const URL =\r\n                   'http://localhost:3001/api/reports/report/employee/availability/';\r\n                  this.setState({\r\n                   isCompleted: await this.isCompleted()\r\n                });\r\n                  if (this.state.isCompleted) {\r\n                   axios.post(URL, data).then(doc => {\r\n                      alert('emp Report saved successfully');\r\n                      this.setState({\r\n                         enableInputs: false\r\n                      });\r\n                   });\r\n                } else {\r\n                   alert('emp Report not completed yet');\r\n                }\r\n                */\n\n              case 2:\n              case \"end\":\n                return _context2.stop();\n            }\n          }\n        }, _callee2, this);\n      }));\n\n      return function (_x2) {\n        return _ref2.apply(this, arguments);\n      };\n    }();\n\n    _this.toggleModal = _this.toggleModal.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.switchTab = _this.switchTab.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.state = {\n      theme: _this.props.theme,\n      activeTab: '1',\n      modal: false,\n      isLoading: false,\n      slaArr: [],\n      empArr: []\n    };\n    return _this;\n  }\n\n  _createClass(ReportingCard, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {}\n    /*\r\n    if (this.state.slaArr.length === 0) {\r\n       this.getSLAs().then(data => {\r\n          this.setState({ slaArr: data });\r\n          alert(this.state.slaArr.length);\r\n       });\r\n    }\r\n    */\n    //this.getSLAs();\n\n    /*\r\n    async getSLAs() {\r\n       this.setState({ isLoading: true });\r\n         const URL = 'http://localhost:3001/api/sla/all';\r\n       let res = await axios.get(URL);\r\n       return await res.data;\r\n    }\r\n    */\n\n  }, {\n    key: \"getSLAs\",\n    value: function getSLAs() {\n      var _this2 = this;\n\n      this.setState({\n        isLoading: true\n      });\n      var URL = 'http://localhost:3001/api/sla/all';\n      axios.get(URL).then(function (res) {\n        _this2.setState({\n          slaArr: res.data,\n          isLoading: false\n        });\n\n        alert(_this2.state.slaArr.length);\n      }).catch(function (err) {\n        alert('Error loading SLAs table');\n        console.log(JSON.stringify(err));\n      });\n    }\n  }, {\n    key: \"switchTab\",\n    value: function switchTab(tab) {\n      if (this.state.activeTab !== tab) {\n        this.setState({\n          activeTab: tab\n        });\n      }\n    }\n  }, {\n    key: \"toggleModal\",\n    value: function toggleModal() {\n      this.setState(function (prevState) {\n        return {\n          modal: !prevState.modal\n        };\n      });\n    }\n  }, {\n    key: \"setContextInfo\",\n    value: function setContextInfo() {\n      return 'Report your results';\n    }\n  }, {\n    key: \"setCardTheme\",\n    value: function setCardTheme() {\n      var theme = this.state.theme;\n\n      if (theme === 'dark') {\n        return 'bg-dark text-white';\n      }\n\n      if (theme === 'light') {\n        return '';\n      }\n    }\n  }, {\n    key: \"handleSLAChange\",\n    value: function handleSLAChange(index, dataType, value) {\n      var newState = this.state.slaArr.map(function (item, i) {\n        if (i === index) {\n          return _objectSpread({}, item, _defineProperty({}, dataType, value));\n        }\n\n        return item;\n      });\n      this.setState({\n        slaArr: newState\n      });\n    }\n  }, {\n    key: \"handleEmployeeProductivityChange\",\n    value: function handleEmployeeProductivityChange(index, dataType, value) {\n      var newState = this.state.empArr.map(function (item, i) {\n        if (i === index) {\n          return _objectSpread({}, item, _defineProperty({}, dataType, value));\n        }\n\n        item.totalContacts = item.phone + item.email + item.chat + item.leverage;\n        item.productivity = item.totalContacts / item.target;\n        return item;\n      });\n      this.setState({\n        empArr: newState\n      });\n    }\n  }, {\n    key: \"handleEmployeeAvailabilityChange\",\n    value: function handleEmployeeAvailabilityChange(index, dataType, value) {\n      var _this3 = this;\n\n      var newState = this.state.empArr.map(function (item, i) {\n        if (i === index) {\n          return _objectSpread({}, item, _defineProperty({}, dataType, value));\n        }\n\n        item.productiveHours = _this3.state.workingHoursTarget;\n        item.productiveHours = item.productiveHours - item.trainingHours - item.annualLeave - item.sickLeave - item.unplannedLeave;\n        return item;\n      });\n      this.setState({\n        empArr: newState\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this4 = this;\n\n      var _this$state = this.state,\n          theme = _this$state.theme,\n          modal = _this$state.modal,\n          isLoading = _this$state.isLoading,\n          slaArr = _this$state.slaArr;\n      return React.createElement(StdCard, {\n        theme: theme,\n        icon: \"fas fa-file-import\",\n        headerText: \"Reporting\",\n        size: \"xl\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 235\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 241\n        },\n        __self: this\n      }, React.createElement(\"h5\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 242\n        },\n        __self: this\n      }, this.setContextInfo(), React.createElement(ButtonGroup, {\n        className: \"float-right\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 244\n        },\n        __self: this\n      }, React.createElement(Button, {\n        size: \"sm\",\n        color: this.state.activeTab === '1' ? 'primary' : 'secondary',\n        onClick: function onClick() {\n          _this4.switchTab('1');\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 245\n        },\n        __self: this\n      }, React.createElement(\"span\", {\n        className: \"fas fa-bullseye mr-2\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 256\n        },\n        __self: this\n      }), \"SLA\"), React.createElement(Button, {\n        size: \"sm\",\n        color: this.state.activeTab === '2' ? 'primary' : 'secondary',\n        onClick: function onClick() {\n          _this4.switchTab('2');\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 259\n        },\n        __self: this\n      }, React.createElement(\"span\", {\n        className: \"fas fa-clock mr-2\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 270\n        },\n        __self: this\n      }), \"Availability\"), React.createElement(Button, {\n        size: \"sm\",\n        color: this.state.activeTab === '3' ? 'primary' : 'secondary',\n        onClick: function onClick() {\n          _this4.switchTab('3');\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 273\n        },\n        __self: this\n      }, React.createElement(\"span\", {\n        className: \"fas fa-chart-line mr-2\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 284\n        },\n        __self: this\n      }), \"Productivity\"), React.createElement(Button, {\n        size: \"sm\",\n        color: this.state.activeTab === '4' ? 'primary' : 'secondary',\n        onClick: function onClick() {\n          _this4.switchTab('4');\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 287\n        },\n        __self: this\n      }, React.createElement(\"span\", {\n        className: \"fas fa-list mr-2\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 298\n        },\n        __self: this\n      }), \"Summary\"))), React.createElement(\"hr\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 303\n        },\n        __self: this\n      }), React.createElement(TabContent, {\n        activeTab: this.state.activeTab,\n        className: \"mb-5\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 304\n        },\n        __self: this\n      }, React.createElement(TabPane, {\n        tabId: \"1\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 305\n        },\n        __self: this\n      }, \"Step 1 - SLA\", React.createElement(Button, {\n        color: \"primary\",\n        size: \"sm\",\n        className: \"float-right\",\n        onClick: function onClick() {\n          _this4.switchTab('2');\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 307\n        },\n        __self: this\n      }, \"Next \", React.createElement(\"span\", {\n        className: \"fas fa-arrow-right ml-2\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 315\n        },\n        __self: this\n      })), React.createElement(SLAsReportingTable, {\n        theme: theme,\n        slaArr: slaArr,\n        isLoading: isLoading,\n        handleChange: this.handleSLAChange,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 317\n        },\n        __self: this\n      })), React.createElement(TabPane, {\n        tabId: \"2\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 324\n        },\n        __self: this\n      }, \"Step 2 - Availability\", React.createElement(ButtonGroup, {\n        className: \"float-right\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 326\n        },\n        __self: this\n      }, React.createElement(Button, {\n        color: \"secondary\",\n        size: \"sm\",\n        onClick: function onClick() {\n          _this4.switchTab('1');\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 327\n        },\n        __self: this\n      }, React.createElement(\"span\", {\n        className: \"fas fa-arrow-left mr-2\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 334\n        },\n        __self: this\n      }), \"Back\"), React.createElement(Button, {\n        color: \"primary\",\n        size: \"sm\",\n        onClick: function onClick() {\n          _this4.switchTab('3');\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 337\n        },\n        __self: this\n      }, \"Next \", React.createElement(\"span\", {\n        className: \"fas fa-arrow-right ml-2\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 344\n        },\n        __self: this\n      }))), React.createElement(EmployeeAvailabilityReportingTable, {\n        theme: theme,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 347\n        },\n        __self: this\n      })), React.createElement(TabPane, {\n        tabId: \"3\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 349\n        },\n        __self: this\n      }, \"Step 3 - Productivity\", React.createElement(ButtonGroup, {\n        className: \"float-right\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 351\n        },\n        __self: this\n      }, React.createElement(Button, {\n        color: \"secondary\",\n        size: \"sm\",\n        onClick: function onClick() {\n          _this4.switchTab('2');\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 352\n        },\n        __self: this\n      }, React.createElement(\"span\", {\n        className: \"fas fa-arrow-left mr-2\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 359\n        },\n        __self: this\n      }), \"Back\"), React.createElement(Button, {\n        color: \"primary\",\n        size: \"sm\",\n        onClick: function onClick() {\n          _this4.switchTab('4');\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 362\n        },\n        __self: this\n      }, \"Next \", React.createElement(\"span\", {\n        className: \"fas fa-arrow-right ml-2\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 369\n        },\n        __self: this\n      }))), React.createElement(EmployeeProductivityReportingTable, {\n        theme: theme,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 372\n        },\n        __self: this\n      })), React.createElement(TabPane, {\n        tabId: \"4\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 374\n        },\n        __self: this\n      }, \"Step 4 - summary\", React.createElement(ButtonGroup, {\n        className: \"float-right\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 376\n        },\n        __self: this\n      }, React.createElement(Button, {\n        color: \"secondary\",\n        size: \"sm\",\n        onClick: function onClick() {\n          _this4.switchTab('3');\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 377\n        },\n        __self: this\n      }, React.createElement(\"span\", {\n        className: \"fas fa-arrow-left mr-2\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 384\n        },\n        __self: this\n      }), \"Back\"), React.createElement(Button, {\n        color: \"primary\",\n        size: \"sm\",\n        onClick: function onClick() {\n          alert('submit');\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 387\n        },\n        __self: this\n      }, \"Submit\", React.createElement(\"span\", {\n        className: \"fas fa-check ml-2\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 395\n        },\n        __self: this\n      }))))), React.createElement(Modal, {\n        isOpen: modal,\n        toggle: this.toggleModal,\n        className: \"\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 401\n        },\n        __self: this\n      }, React.createElement(Card, {\n        className: this.setCardTheme(),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 402\n        },\n        __self: this\n      }, React.createElement(CardHeader, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 403\n        },\n        __self: this\n      }, React.createElement(\"span\", {\n        class: \"fas fa-chart-line header-icon\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 404\n        },\n        __self: this\n      }), 'Create new Project', React.createElement(\"span\", {\n        className: \"far fa-window-restore float-right header-icon text-secondary\",\n        onClick: this.toggleModal,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 406\n        },\n        __self: this\n      })), React.createElement(CardBody, {\n        className: \"card-body\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 412\n        },\n        __self: this\n      }, \"xyz\")))));\n    }\n  }]);\n\n  return ReportingCard;\n}(Component);\n\nexport { ReportingCard as default };","map":{"version":3,"sources":["/Users/rafalcymbalista/Projects/GhOSt_app/client/src/components/Card/ReportingCard/ReportingCard.jsx"],"names":["React","Component","Button","ButtonGroup","TabContent","TabPane","Modal","Card","CardBody","CardHeader","axios","StdCard","SLAsReportingTable","EmployeeAvailabilityReportingTable","EmployeeProductivityReportingTable","ReportingCard","props","handleSLASubmit","e","preventDefault","readySLAReport","state","slaArr","map","sla","index","reportedAt","project","_id","sla_id","SLA","logic","slaType","type","target","result","status","data","SLAReport","URL","isCompleted","setState","post","then","doc","alert","enableInputs","handleEmployeeReportSubmit","console","log","empArr","toggleModal","bind","switchTab","theme","activeTab","modal","isLoading","get","res","length","catch","err","JSON","stringify","tab","prevState","dataType","value","newState","item","i","totalContacts","phone","email","chat","leverage","productivity","productiveHours","workingHoursTarget","trainingHours","annualLeave","sickLeave","unplannedLeave","setContextInfo","handleSLAChange","setCardTheme"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\r\nimport {\r\n   Button,\r\n   ButtonGroup,\r\n   TabContent,\r\n   TabPane,\r\n   Modal,\r\n   Card,\r\n   CardBody,\r\n   CardHeader\r\n} from 'reactstrap';\r\nimport axios from 'axios';\r\nimport StdCard from '../StdCard';\r\nimport SLAsReportingTable from '../../Table/SLAsTable/SLAsReportingTable';\r\nimport EmployeeAvailabilityReportingTable from '../../Table/EmployeeTable/EmployeeAvailabilityReportingTable';\r\nimport EmployeeProductivityReportingTable from '../../Table/EmployeeTable/EmployeeProductivityReportingTable';\r\n\r\nexport default class ReportingCard extends Component {\r\n   constructor(props) {\r\n      super(props);\r\n      this.toggleModal = this.toggleModal.bind(this);\r\n      this.switchTab = this.switchTab.bind(this);\r\n      this.state = {\r\n         theme: this.props.theme,\r\n         activeTab: '1',\r\n         modal: false,\r\n         isLoading: false,\r\n         slaArr: [],\r\n         empArr: []\r\n      };\r\n   }\r\n\r\n   componentDidMount() {\r\n      /*\r\n      if (this.state.slaArr.length === 0) {\r\n         this.getSLAs().then(data => {\r\n            this.setState({ slaArr: data });\r\n            alert(this.state.slaArr.length);\r\n         });\r\n      }\r\n      */\r\n      //this.getSLAs();\r\n   }\r\n\r\n   /*\r\n   async getSLAs() {\r\n      this.setState({ isLoading: true });\r\n\r\n      const URL = 'http://localhost:3001/api/sla/all';\r\n      let res = await axios.get(URL);\r\n      return await res.data;\r\n   }\r\n   */\r\n   getSLAs() {\r\n      this.setState({ isLoading: true });\r\n\r\n      const URL = 'http://localhost:3001/api/sla/all';\r\n\r\n      axios\r\n         .get(URL)\r\n         .then(res => {\r\n            this.setState({\r\n               slaArr: res.data,\r\n               isLoading: false\r\n            });\r\n            alert(this.state.slaArr.length);\r\n         })\r\n         .catch(err => {\r\n            alert('Error loading SLAs table');\r\n            console.log(JSON.stringify(err));\r\n         });\r\n   }\r\n   switchTab(tab) {\r\n      if (this.state.activeTab !== tab) {\r\n         this.setState({\r\n            activeTab: tab\r\n         });\r\n      }\r\n   }\r\n\r\n   toggleModal() {\r\n      this.setState(prevState => ({\r\n         modal: !prevState.modal\r\n      }));\r\n   }\r\n\r\n   setContextInfo() {\r\n      return 'Report your results';\r\n   }\r\n\r\n   setCardTheme() {\r\n      const { theme } = this.state;\r\n      if (theme === 'dark') {\r\n         return 'bg-dark text-white';\r\n      }\r\n      if (theme === 'light') {\r\n         return '';\r\n      }\r\n   }\r\n\r\n   handleSLAChange(index, dataType, value) {\r\n      const newState = this.state.slaArr.map((item, i) => {\r\n         if (i === index) {\r\n            return { ...item, [dataType]: value };\r\n         }\r\n         return item;\r\n      });\r\n\r\n      this.setState({\r\n         slaArr: newState\r\n      });\r\n   }\r\n\r\n   handleSLASubmit = async e => {\r\n      e.preventDefault();\r\n\r\n      var readySLAReport = this.state.slaArr.map((sla, index) => {\r\n         return {\r\n            reportedAt: sla.reportedAt,\r\n            project: sla.project._id,\r\n            sla_id: sla._id,\r\n            sla: sla.SLA,\r\n            logic: sla.logic,\r\n            slaType: sla.type.type,\r\n            target: sla.target,\r\n            result: sla.result,\r\n            status: sla.status\r\n         };\r\n      });\r\n\r\n      var data = {\r\n         SLAReport: readySLAReport\r\n      };\r\n\r\n      const URL = 'http://localhost:3001/api/reports/report/sla';\r\n\r\n      this.setState({\r\n         isCompleted: await this.isCompleted()\r\n      });\r\n\r\n      if (this.state.isCompleted) {\r\n         axios.post(URL, data).then(doc => {\r\n            alert('SLA Report saved successfully');\r\n            this.setState({\r\n               enableInputs: false\r\n            });\r\n         });\r\n      } else {\r\n         alert('SLA Report not completed yet');\r\n      }\r\n   };\r\n\r\n   handleEmployeeProductivityChange(index, dataType, value) {\r\n      const newState = this.state.empArr.map((item, i) => {\r\n         if (i === index) {\r\n            return { ...item, [dataType]: value };\r\n         }\r\n         item.totalContacts =\r\n            item.phone + item.email + item.chat + item.leverage;\r\n         item.productivity = item.totalContacts / item.target;\r\n         return item;\r\n      });\r\n\r\n      this.setState({\r\n         empArr: newState\r\n      });\r\n   }\r\n\r\n   handleEmployeeAvailabilityChange(index, dataType, value) {\r\n      const newState = this.state.empArr.map((item, i) => {\r\n         if (i === index) {\r\n            return { ...item, [dataType]: value };\r\n         }\r\n         item.productiveHours = this.state.workingHoursTarget;\r\n         item.productiveHours =\r\n            item.productiveHours -\r\n            item.trainingHours -\r\n            item.annualLeave -\r\n            item.sickLeave -\r\n            item.unplannedLeave;\r\n         return item;\r\n      });\r\n\r\n      this.setState({\r\n         empArr: newState\r\n      });\r\n   }\r\n\r\n   handleEmployeeReportSubmit = async e => {\r\n      e.preventDefault();\r\n      console.log(this.state.empArr);\r\n      /*\r\n      var readyempReport = this.state.empArr.map((emp, index) => {\r\n         return {\r\n            reportedAt: emp.reportedAt,\r\n            project: emp.project._id,\r\n            emp_id: emp._id,\r\n            emp: emp.emp,\r\n            logic: emp.logic,\r\n            empType: emp.type.type,\r\n            target: emp.target,\r\n            result: emp.result,\r\n            status: emp.status\r\n         };\r\n      });\r\n\r\n      var data = {\r\n         empReport: readyempReport\r\n      };\r\n\r\n      const URL =\r\n         'http://localhost:3001/api/reports/report/employee/availability/';\r\n\r\n      this.setState({\r\n         isCompleted: await this.isCompleted()\r\n      });\r\n\r\n      if (this.state.isCompleted) {\r\n         axios.post(URL, data).then(doc => {\r\n            alert('emp Report saved successfully');\r\n            this.setState({\r\n               enableInputs: false\r\n            });\r\n         });\r\n      } else {\r\n         alert('emp Report not completed yet');\r\n      }\r\n      */\r\n   };\r\n\r\n   render() {\r\n      const { theme, modal, isLoading, slaArr } = this.state;\r\n\r\n      return (\r\n         <StdCard\r\n            theme={theme}\r\n            icon='fas fa-file-import'\r\n            headerText='Reporting'\r\n            size='xl'\r\n         >\r\n            <div>\r\n               <h5>\r\n                  {this.setContextInfo()}\r\n                  <ButtonGroup className='float-right'>\r\n                     <Button\r\n                        size='sm'\r\n                        color={\r\n                           this.state.activeTab === '1'\r\n                              ? 'primary'\r\n                              : 'secondary'\r\n                        }\r\n                        onClick={() => {\r\n                           this.switchTab('1');\r\n                        }}\r\n                     >\r\n                        <span className='fas fa-bullseye mr-2' />\r\n                        SLA\r\n                     </Button>\r\n                     <Button\r\n                        size='sm'\r\n                        color={\r\n                           this.state.activeTab === '2'\r\n                              ? 'primary'\r\n                              : 'secondary'\r\n                        }\r\n                        onClick={() => {\r\n                           this.switchTab('2');\r\n                        }}\r\n                     >\r\n                        <span className='fas fa-clock mr-2' />\r\n                        Availability\r\n                     </Button>\r\n                     <Button\r\n                        size='sm'\r\n                        color={\r\n                           this.state.activeTab === '3'\r\n                              ? 'primary'\r\n                              : 'secondary'\r\n                        }\r\n                        onClick={() => {\r\n                           this.switchTab('3');\r\n                        }}\r\n                     >\r\n                        <span className='fas fa-chart-line mr-2' />\r\n                        Productivity\r\n                     </Button>\r\n                     <Button\r\n                        size='sm'\r\n                        color={\r\n                           this.state.activeTab === '4'\r\n                              ? 'primary'\r\n                              : 'secondary'\r\n                        }\r\n                        onClick={() => {\r\n                           this.switchTab('4');\r\n                        }}\r\n                     >\r\n                        <span className='fas fa-list mr-2' />\r\n                        Summary\r\n                     </Button>\r\n                  </ButtonGroup>\r\n               </h5>\r\n               <hr />\r\n               <TabContent activeTab={this.state.activeTab} className='mb-5'>\r\n                  <TabPane tabId='1'>\r\n                     Step 1 - SLA\r\n                     <Button\r\n                        color='primary'\r\n                        size='sm'\r\n                        className='float-right'\r\n                        onClick={() => {\r\n                           this.switchTab('2');\r\n                        }}\r\n                     >\r\n                        Next <span className='fas fa-arrow-right ml-2' />\r\n                     </Button>\r\n                     <SLAsReportingTable\r\n                        theme={theme}\r\n                        slaArr={slaArr}\r\n                        isLoading={isLoading}\r\n                        handleChange={this.handleSLAChange}\r\n                     />\r\n                  </TabPane>\r\n                  <TabPane tabId='2'>\r\n                     Step 2 - Availability\r\n                     <ButtonGroup className='float-right'>\r\n                        <Button\r\n                           color='secondary'\r\n                           size='sm'\r\n                           onClick={() => {\r\n                              this.switchTab('1');\r\n                           }}\r\n                        >\r\n                           <span className='fas fa-arrow-left mr-2' />\r\n                           Back\r\n                        </Button>\r\n                        <Button\r\n                           color='primary'\r\n                           size='sm'\r\n                           onClick={() => {\r\n                              this.switchTab('3');\r\n                           }}\r\n                        >\r\n                           Next <span className='fas fa-arrow-right ml-2' />\r\n                        </Button>\r\n                     </ButtonGroup>\r\n                     <EmployeeAvailabilityReportingTable theme={theme} />\r\n                  </TabPane>\r\n                  <TabPane tabId='3'>\r\n                     Step 3 - Productivity\r\n                     <ButtonGroup className='float-right'>\r\n                        <Button\r\n                           color='secondary'\r\n                           size='sm'\r\n                           onClick={() => {\r\n                              this.switchTab('2');\r\n                           }}\r\n                        >\r\n                           <span className='fas fa-arrow-left mr-2' />\r\n                           Back\r\n                        </Button>\r\n                        <Button\r\n                           color='primary'\r\n                           size='sm'\r\n                           onClick={() => {\r\n                              this.switchTab('4');\r\n                           }}\r\n                        >\r\n                           Next <span className='fas fa-arrow-right ml-2' />\r\n                        </Button>\r\n                     </ButtonGroup>\r\n                     <EmployeeProductivityReportingTable theme={theme} />\r\n                  </TabPane>\r\n                  <TabPane tabId='4'>\r\n                     Step 4 - summary\r\n                     <ButtonGroup className='float-right'>\r\n                        <Button\r\n                           color='secondary'\r\n                           size='sm'\r\n                           onClick={() => {\r\n                              this.switchTab('3');\r\n                           }}\r\n                        >\r\n                           <span className='fas fa-arrow-left mr-2' />\r\n                           Back\r\n                        </Button>\r\n                        <Button\r\n                           color='primary'\r\n                           size='sm'\r\n                           onClick={() => {\r\n                              alert('submit');\r\n                           }}\r\n                        >\r\n                           Submit\r\n                           <span className='fas fa-check ml-2' />\r\n                        </Button>\r\n                     </ButtonGroup>\r\n                  </TabPane>\r\n               </TabContent>\r\n\r\n               <Modal isOpen={modal} toggle={this.toggleModal} className=''>\r\n                  <Card className={this.setCardTheme()}>\r\n                     <CardHeader>\r\n                        <span class='fas fa-chart-line header-icon' />\r\n                        {'Create new Project'}\r\n                        <span\r\n                           className='far fa-window-restore float-right header-icon text-secondary'\r\n                           onClick={this.toggleModal}\r\n                        />\r\n                     </CardHeader>\r\n\r\n                     <CardBody className='card-body'>xyz</CardBody>\r\n                  </Card>\r\n               </Modal>\r\n            </div>\r\n         </StdCard>\r\n      );\r\n   }\r\n}\r\n"]},"metadata":{},"sourceType":"module"}
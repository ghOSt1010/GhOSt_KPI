{"ast":null,"code":"import axios from 'axios';\nimport Auth from '../Auth/Auth';\n/**\n * @returns {Object} axios custom instance with Authorization JWT token header\n * @description Requests are modified with Authorization header (JWT)\n */\n\nvar Request = axios.create({\n  headers: {\n    Authorization: 'Token ' + Auth.getToken('Request')\n  }\n});\nRequest.interceptors.request.use(function (response) {\n  if (response.status === 401) {\n    console.log('x');\n  }\n\n  return response;\n}, function (error) {\n  console.log('interceptor');\n  var originalRequest = error.config;\n\n  if (error.response.status === 401 && !originalRequest._retry) {\n    originalRequest._retry = true;\n    Auth.getToken('Request');\n    axios.defaults.headers.common['Authorization'] = 'Token ' + Auth.getToken('Request interceptor');\n    return axios(originalRequest);\n  }\n});\nexport default Request; //JSON.parse(localStorage.getItem('user')).token\n//axios.defaults.headers.common['Authorization'] = 'Token ' + Auth.getToken();","map":{"version":3,"sources":["/Users/rafalcymbalista/Projects/GhOSt_app/client/src/Modules/Client/API/Requests/Request.js"],"names":["axios","Auth","Request","create","headers","Authorization","getToken","interceptors","request","use","response","status","console","log","error","originalRequest","config","_retry","defaults","common"],"mappings":"AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,IAAP,MAAiB,cAAjB;AAEA;;;;;AAIA,IAAIC,OAAO,GAAGF,KAAK,CAACG,MAAN,CAAa;AACxBC,EAAAA,OAAO,EAAE;AACNC,IAAAA,aAAa,EAAE,WAAWJ,IAAI,CAACK,QAAL,CAAc,SAAd;AADpB;AADe,CAAb,CAAd;AAKAJ,OAAO,CAACK,YAAR,CAAqBC,OAArB,CAA6BC,GAA7B,CACG,UAAAC,QAAQ,EAAI;AACT,MAAIA,QAAQ,CAACC,MAAT,KAAoB,GAAxB,EAA6B;AAC1BC,IAAAA,OAAO,CAACC,GAAR,CAAY,GAAZ;AACF;;AACD,SAAOH,QAAP;AACF,CANJ,EAOG,UAAAI,KAAK,EAAI;AACNF,EAAAA,OAAO,CAACC,GAAR,CAAY,aAAZ;AACA,MAAME,eAAe,GAAGD,KAAK,CAACE,MAA9B;;AACA,MAAIF,KAAK,CAACJ,QAAN,CAAeC,MAAf,KAA0B,GAA1B,IAAiC,CAACI,eAAe,CAACE,MAAtD,EAA8D;AAC3DF,IAAAA,eAAe,CAACE,MAAhB,GAAyB,IAAzB;AACAhB,IAAAA,IAAI,CAACK,QAAL,CAAc,SAAd;AAEAN,IAAAA,KAAK,CAACkB,QAAN,CAAed,OAAf,CAAuBe,MAAvB,CAA8B,eAA9B,IACG,WAAWlB,IAAI,CAACK,QAAL,CAAc,qBAAd,CADd;AAGA,WAAON,KAAK,CAACe,eAAD,CAAZ;AACF;AACH,CAnBJ;AAsBA,eAAeb,OAAf,C,CACA;AACA","sourcesContent":["import axios from 'axios';\nimport Auth from '../Auth/Auth';\n\n/**\n * @returns {Object} axios custom instance with Authorization JWT token header\n * @description Requests are modified with Authorization header (JWT)\n */\nvar Request = axios.create({\n   headers: {\n      Authorization: 'Token ' + Auth.getToken('Request')\n   }\n});\nRequest.interceptors.request.use(\n   response => {\n      if (response.status === 401) {\n         console.log('x');\n      }\n      return response;\n   },\n   error => {\n      console.log('interceptor');\n      const originalRequest = error.config;\n      if (error.response.status === 401 && !originalRequest._retry) {\n         originalRequest._retry = true;\n         Auth.getToken('Request');\n\n         axios.defaults.headers.common['Authorization'] =\n            'Token ' + Auth.getToken('Request interceptor');\n\n         return axios(originalRequest);\n      }\n   }\n);\n\nexport default Request;\n//JSON.parse(localStorage.getItem('user')).token\n//axios.defaults.headers.common['Authorization'] = 'Token ' + Auth.getToken();\n"]},"metadata":{},"sourceType":"module"}